## Сокеты ESP32 и PHP

### [Proba1. ESP32 Asynchronous Web Server using Arduino IDE and ESPAsyncWebServer library](https://microcontrollerslab.com/esp32-asynchronous-web-server-espasyncwebserver-library/)

2026-01-14 = ESP32-CAM = Пробую статью на ардуино 1.8.19, esp 3.3.5 = РАБОТАЕТ!!!

Устанавливаю библиотеки [ESPAsyncWebServer 3.6.0 ](https://github.com/me-no-dev/ESPAsyncWebServer) и [AsyncTCP 3.3.2](https://github.com/me-no-dev/AsyncTCP) по ссылкам из статьи. 

***Асинхронный веб-сервер ESP32 с использованием Arduino IDE и библиотеки ESPAsyncWebServer:***

В отличие от традиционных серверов на основе потоков, которые выделяют отдельный поток для каждого клиента, асинхронный сервер работает по-другому. При традиционном подходе могут возникать такие проблемы, как блокировка запросов, когда сервер ожидает освобождения ресурсов, что приводит к задержкам и негативно сказывается на работе клиента.

С другой стороны, при использовании асинхронного сервера нет необходимости создавать отдельные потоки для каждого запроса клиента. Вместо этого он использует циклы, управляемые событиями, для одновременной обработки запросов от нескольких клиентов. Это означает, что клиентские запросы не блокируют друг друга и могут выполняться одновременно, что обеспечивает более плавное и быстрое взаимодействие с пользователем. В целом асинхронный сервер повышает производительность и улучшает взаимодействие клиентов с веб-сервером.

### [Proba2. ESP32 WebSocket Server using Arduino IDE – Control GPIOs and Relays](https://microcontrollerslab.com/esp32-websocket-server-arduino-ide-control-gpios-relays/)


2026-01-14 = ESP32-CAM = Пробую на ардуино 1.8.19, esp 3.3.5 = РАБОТАЕТ!!!

Устанавливаю библиотеки [ESPAsyncWebServer 3.6.0 ](https://github.com/me-no-dev/ESPAsyncWebServer) и [AsyncTCP 3.3.2](https://github.com/me-no-dev/AsyncTCP) по ссылкам из статьи. 


---


### "сокеты на esp32 в IDE Arduino"

В среде разработки Arduino IDE можно работать с сокетами (протоколом WebSocket) на ESP32. Это позволяет создавать проекты, например, веб-сервер с управлением устройством в реальном времени. 

- [ESP32 Web Socket Server](https://www.theengineeringprojects.com/2021/12/esp32-web-socket-server.html)

- [---lastminuteengineers.com](https://lastminuteengineers.com/esp32-websocket-tutorial/)

- [---randomnerdtutorials.com](https://randomnerdtutorials.com/esp32-websocket-server-arduino/)

- [WebSocket на ESP32/8266: управляем устройствами в реальном времени](https://amperkot.ru/blog/websocket-esp/)

здесь питон, как сервер

- [---microdigisoft.com](https://microdigisoft.com/esp32-websocket-server-using-arduino-ide/)

#### Принцип работы

WebSocket — двусторонний протокол связи между клиентом и сервером. После установки соединения и клиент, и сервер могут отправлять данные друг другу в любой момент. Например: 

- ESP32 как сервер. Сервер слушает на определённом порту для входящих соединений и сообщений. Когда пользователь меняет состояние устройства (например, светодиода), ESP32 отправляет сообщение «toggle». 

- ESP32 как клиент. ESP подключается к внешнему серверу и отправляет данные. Это полезно, когда нужно собирать данные с множества устройств на одном сервере.
 
#### Библиотеки

Для работы с сокетами на ESP32 в Arduino IDE используются, например:
ESPAsyncWebServer. Позволяет создавать асинхронный веб-сервер. Для работы требуется библиотека AsyncTCP, которая не доступна в «Менеджере библиотек Arduino IDE» — её нужно установить вручную. 

ArduinoWebsockets. Библиотека предоставляет простой интерфейс для работы с сокетами (клиент и сервер). Работает с ESP32, можно установить её из Arduino IDE или использовать ZIP-файл с страницы выпуска GitHub. 

#### Пример кода

В некоторых проектах с использованием WebSocket на ESP32 в Arduino IDE код включает, например:

- cоздание веб-страницы с кнопкой для управления светодиодом. В интерфейсе отображается текущее состояние светодиода, при нажатии кнопки отправляется сообщение «toggle»;

- обработку сообщений. Например, если пользователь меняет состояние светодиода, ESP32 отправляет «1» (индикатор включён) или «0» (индикатор выключен). Все активные клиенты немедленно обновляют состояние светодиода на своих веб-страницах. 

#### Тестирование

После загрузки кода в Arduino IDE можно проверить работу системы, например:
Открыть монитор порта (Ctrl+Shift+M) — он покажет IP-адрес ESP32. 

Подключить устройства к одной сети и перейти по IP-адресу ESP32 — появится доступ к веб-странице, где можно контролировать выход. 

Использовать Python-клиент для тестирования сервера — в мониторе порта Arduino IDE будут отображаться сообщения о подключении, отправке сообщения и отключении клиента. 

### Библиография

#### [1. ESP32 - WebSocket _ ESP32 Tutorial](https://esp32io.com/tutorials/esp32-websocket)

#### [3. Как создать крутую WEB-морду (WebSocket Server)](https://dzen.ru/a/Yx4gyJSvvzan9i8u)

#### [3. Визуализируем показания датчиков на веб-сервере (ESP32 / ESP8266 + MySQL + PHP)](https://voltiq.ru/visualize-esp32-esp8266-sensor-readings-from-anywhere/)

#### [ESP32 WebSocket Server using Arduino IDE – Control GPIOs and Relays](https://microcontrollerslab.com/esp32-websocket-server-arduino-ide-control-gpios-relays/)

#### [---WebSocket Server with ESP32 and Arduino IDE](https://iotdesignpro.com/projects/websocket-server-with-esp32-and-arduino-ide)

#### [---ESP32/ESP8266 Publish Data to Raspberry Pi LAMP Server](https://randomnerdtutorials.com/esp32-esp8266-raspberry-pi-lamp-server/)

#### [---WebSocket on Arduino, esp8266 and esp32: client – 1](https://mischianti.org/websocket-on-arduino-esp8266-and-esp32-client-1/)

#### []



###### [к содержанию](#soderzhanie)

